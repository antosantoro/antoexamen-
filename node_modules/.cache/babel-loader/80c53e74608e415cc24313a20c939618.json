{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Omar\\\\Downloads\\\\4-clima-app-react-main\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport Formulario from './components/Formulario';\nimport Header from './components/Header';\nimport Clima from './components/Clima';\nimport Error from './components/Error';\nimport './styles/App.css';\n\nfunction App() {\n  _s();\n\n  const [busqueda, setBusqueda] = useState({\n    ciudad: '',\n    pais: ''\n  });\n  const {\n    ciudad,\n    pais\n  } = busqueda;\n  const [consultar, setConsultar] = useState(false);\n  const [data, setData] = useState({}); //almacena la respuesta de la api en json\n\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    const consultarAPI = async () => {\n      if (consultar) {\n        let keyAPI = `eaed9e10df601aab920b0f2f1e13df89`;\n        let urlAPI = `https://api.openweathermap.org/data/2.5/weather?q=${ciudad},${pais}&appid=${keyAPI}`;\n        let response = await fetch(urlAPI);\n        let data = await response.json(); //data tiene la respuesta de la api en json\n\n        setData(data);\n        setConsultar(false); //verificar si la ciudad introducida es valida\n\n        if (data.cod === '404') setError(true);else setError(false);\n        console.log(data); //verificando si hay o no resultados en la consulta\n\n        if (data.cod === \"404\") {\n          setError(true);\n        } else {\n          setError(false);\n        }\n      }\n    };\n\n    consultarAPI();\n  }, [consultar]);\n  let componente;\n\n  if (error) {\n    componente = /*#__PURE__*/_jsxDEV(Error, {\n      descripcion: data.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 18\n    }, this);\n  } else {\n    componente = /*#__PURE__*/_jsxDEV(Clima, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 18\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      titulo: \"Aplicaci\\xF3n de Clima\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 col-sm-12 mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"size-title\",\n            children: \"Consulta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Formulario, {\n            busqueda: busqueda,\n            setBusqueda: setBusqueda,\n            setConsultar: setConsultar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 col-sm-12\",\n          children: componente\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"QFC1bvfDs/u0DinfI1OeynZdXm8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Omar/Downloads/4-clima-app-react-main/src/App.js"],"names":["React","Fragment","useState","useEffect","Formulario","Header","Clima","Error","App","busqueda","setBusqueda","ciudad","pais","consultar","setConsultar","data","setData","error","setError","consultarAPI","keyAPI","urlAPI","response","fetch","json","cod","console","log","componente","message"],"mappings":"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","sourcesContent":["\nimport React, {Fragment, useState, useEffect} from 'react'\nimport Formulario from './components/Formulario'\nimport Header from './components/Header'\nimport Clima from './components/Clima'\nimport Error from './components/Error'\n\nimport './styles/App.css'\nfunction App() {\n  const [busqueda, setBusqueda] = useState({\n    ciudad:'',\n    pais:'',\n  });\n  const {ciudad,pais} = busqueda;\n\n  const [consultar,setConsultar] = useState(false);\n  const [data, setData] = useState({}); //almacena la respuesta de la api en json\n  const [error, setError] = useState(false);\n\n  useEffect(()=> {\n    const consultarAPI = async() => {\n      if(consultar){\n        let keyAPI = `eaed9e10df601aab920b0f2f1e13df89`;\n        let urlAPI = `https://api.openweathermap.org/data/2.5/weather?q=${ciudad},${pais}&appid=${keyAPI}`;\n        let response = await fetch(urlAPI);\n        let data = await response.json(); //data tiene la respuesta de la api en json\n        setData(data);\n        setConsultar(false);\n\n        //verificar si la ciudad introducida es valida\n        if(data.cod === '404')\n          setError(true);\n        else\n          setError(false);  \n        \n        console.log(data)\n\n        //verificando si hay o no resultados en la consulta\n        if(data.cod === \"404\"){\n          setError(true);\n        }else{\n          setError(false);\n        }\n      }\n    };\n    consultarAPI();\n  },[consultar]);\n\n  let componente;\n  if(error) {\n    componente = <Error descripcion = {data.message}/> ;\n  }\n  else{\n    componente = <Clima data={data}/>\n  }\n  return (\n    <>\n    <Header titulo=\"AplicaciÃ³n de Clima\"/>\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-md-6 col-sm-12 mt-3\">\n          <h2 className=\"size-title\">Consulta</h2>\n          <Formulario \n            busqueda={busqueda}\n            setBusqueda={setBusqueda}\n            setConsultar={setConsultar}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          \n          {componente}\n        </div>\n      </div>\n    </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}