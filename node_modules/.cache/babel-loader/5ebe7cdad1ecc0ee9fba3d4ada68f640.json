{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Omar/Downloads/4-clima-app-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Omar/Downloads/4-clima-app-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Omar/Downloads/4-clima-app-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment,useState,useEffect}from'react';import Formulario from'./components/Formulario';import Header from'./components/Header';import Clima from'./components/Clima';import Error from'./components/Error';import'./styles/App.css';function App(){var _useState=useState({ciudad:'',pais:''}),_useState2=_slicedToArray(_useState,2),busqueda=_useState2[0],setBusqueda=_useState2[1];var ciudad=busqueda.ciudad,pais=busqueda.pais;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),consultar=_useState4[0],setConsultar=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];//almacena la respuesta de la api en json\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];useEffect(function(){var consultarAPI=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var keyAPI,urlAPI,response,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!consultar){_context.next=14;break;}keyAPI=\"eaed9e10df601aab920b0f2f1e13df89\";urlAPI=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(ciudad,\",\").concat(pais,\"&appid=\").concat(keyAPI);_context.next=5;return fetch(urlAPI);case 5:response=_context.sent;_context.next=8;return response.json();case 8:_data=_context.sent;//data tiene la respuesta de la api en json\nsetData(_data);setConsultar(false);//verificar si la ciudad introducida es valida\nif(_data.cod==='404')setError(true);else setError(false);console.log(_data);//verificando si hay o no resultados en la consulta\nif(_data.cod===\"404\"){setError(true);}else{setError(false);}case 14:case\"end\":return _context.stop();}}},_callee);}));return function consultarAPI(){return _ref.apply(this,arguments);};}();consultarAPI();},[consultar]);var componente;if(error){componente=/*#__PURE__*/_jsx(Error,{descripcion:data.message});}else{componente=/*#__PURE__*/_jsx(Clima,{data:data});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{titulo:\"Aplicaci\\xF3n de Clima con React\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-sm-12 mt-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"size-title\",children:\"Formulario de consulta\"}),/*#__PURE__*/_jsx(Formulario,{busqueda:busqueda,setBusqueda:setBusqueda,setConsultar:setConsultar})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-12\",children:componente})]})})]});}export default App;","map":{"version":3,"sources":["C:/Users/Omar/Downloads/4-clima-app-react-main/src/App.js"],"names":["React","Fragment","useState","useEffect","Formulario","Header","Clima","Error","App","ciudad","pais","busqueda","setBusqueda","consultar","setConsultar","data","setData","error","setError","consultarAPI","keyAPI","urlAPI","fetch","response","json","cod","console","log","componente","message"],"mappings":"ynBACA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,QAAzB,CAAmCC,SAAnC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CAEA,MAAO,kBAAP,CACA,QAASC,CAAAA,GAAT,EAAe,eACmBN,QAAQ,CAAC,CACvCO,MAAM,CAAC,EADgC,CAEvCC,IAAI,CAAC,EAFkC,CAAD,CAD3B,wCACNC,QADM,eACIC,WADJ,kBAKNH,CAAAA,MALM,CAKSE,QALT,CAKNF,MALM,CAKCC,IALD,CAKSC,QALT,CAKCD,IALD,gBAOoBR,QAAQ,CAAC,KAAD,CAP5B,yCAONW,SAPM,eAOIC,YAPJ,8BAQWZ,QAAQ,CAAC,EAAD,CARnB,yCAQNa,IARM,eAQAC,OARA,eAQyB;AARzB,eASad,QAAQ,CAAC,KAAD,CATrB,yCASNe,KATM,eASCC,QATD,eAWbf,SAAS,CAAC,UAAK,CACb,GAAMgB,CAAAA,YAAY,0FAAG,wKAChBN,SADgB,0BAEbO,MAFa,oCAGbC,MAHa,6DAGiDZ,MAHjD,aAG2DC,IAH3D,mBAGyEU,MAHzE,wBAIIE,CAAAA,KAAK,CAACD,MAAD,CAJT,QAIbE,QAJa,qCAKAA,CAAAA,QAAQ,CAACC,IAAT,EALA,QAKbT,KALa,eAKiB;AAClCC,OAAO,CAACD,KAAD,CAAP,CACAD,YAAY,CAAC,KAAD,CAAZ,CAEA;AACA,GAAGC,KAAI,CAACU,GAAL,GAAa,KAAhB,CACEP,QAAQ,CAAC,IAAD,CAAR,CADF,IAGEA,CAAAA,QAAQ,CAAC,KAAD,CAAR,CAEFQ,OAAO,CAACC,GAAR,CAAYZ,KAAZ,EAEA;AACA,GAAGA,KAAI,CAACU,GAAL,GAAa,KAAhB,CAAsB,CACpBP,QAAQ,CAAC,IAAD,CAAR,CACD,CAFD,IAEK,CACHA,QAAQ,CAAC,KAAD,CAAR,CACD,CAtBgB,uDAAH,kBAAZC,CAAAA,YAAY,0CAAlB,CAyBAA,YAAY,GACb,CA3BQ,CA2BP,CAACN,SAAD,CA3BO,CAAT,CA6BA,GAAIe,CAAAA,UAAJ,CACA,GAAGX,KAAH,CAAU,CACRW,UAAU,cAAG,KAAC,KAAD,EAAO,WAAW,CAAIb,IAAI,CAACc,OAA3B,EAAb,CACD,CAFD,IAGI,CACFD,UAAU,cAAG,KAAC,KAAD,EAAO,IAAI,CAAEb,IAAb,EAAb,CACD,CACD,mBACE,wCACA,KAAC,MAAD,EAAQ,MAAM,CAAC,kCAAf,EADA,cAEA,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAK,SAAS,CAAC,yBAAf,wBACE,WAAI,SAAS,CAAC,YAAd,oCADF,cAEE,KAAC,UAAD,EACE,QAAQ,CAAEJ,QADZ,CAEE,WAAW,CAAEC,WAFf,CAGE,YAAY,CAAEE,YAHhB,EAFF,GADF,cASE,YAAK,SAAS,CAAC,oBAAf,UAEGc,UAFH,EATF,GADF,EAFA,GADF,CAqBD,CAED,cAAepB,CAAAA,GAAf","sourcesContent":["\nimport React, {Fragment, useState, useEffect} from 'react'\nimport Formulario from './components/Formulario'\nimport Header from './components/Header'\nimport Clima from './components/Clima'\nimport Error from './components/Error'\n\nimport './styles/App.css'\nfunction App() {\n  const [busqueda, setBusqueda] = useState({\n    ciudad:'',\n    pais:'',\n  });\n  const {ciudad,pais} = busqueda;\n\n  const [consultar,setConsultar] = useState(false);\n  const [data, setData] = useState({}); //almacena la respuesta de la api en json\n  const [error, setError] = useState(false);\n\n  useEffect(()=> {\n    const consultarAPI = async() => {\n      if(consultar){\n        let keyAPI = `eaed9e10df601aab920b0f2f1e13df89`;\n        let urlAPI = `https://api.openweathermap.org/data/2.5/weather?q=${ciudad},${pais}&appid=${keyAPI}`;\n        let response = await fetch(urlAPI);\n        let data = await response.json(); //data tiene la respuesta de la api en json\n        setData(data);\n        setConsultar(false);\n\n        //verificar si la ciudad introducida es valida\n        if(data.cod === '404')\n          setError(true);\n        else\n          setError(false);  \n        \n        console.log(data)\n\n        //verificando si hay o no resultados en la consulta\n        if(data.cod === \"404\"){\n          setError(true);\n        }else{\n          setError(false);\n        }\n      }\n    };\n    consultarAPI();\n  },[consultar]);\n\n  let componente;\n  if(error) {\n    componente = <Error descripcion = {data.message}/> ;\n  }\n  else{\n    componente = <Clima data={data}/>\n  }\n  return (\n    <>\n    <Header titulo=\"AplicaciÃ³n de Clima con React\"/>\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-md-6 col-sm-12 mt-3\">\n          <h2 className=\"size-title\">Formulario de consulta</h2>\n          <Formulario \n            busqueda={busqueda}\n            setBusqueda={setBusqueda}\n            setConsultar={setConsultar}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          \n          {componente}\n        </div>\n      </div>\n    </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}